<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>平面四杆机构 · 交互式教学</title>
<style>
:root {
    --bg: #ffffff;
    --card-bg: #f7f7f8;
    --text: #1a1a1a;
    --text2: #888;
    --border: #e8e8e8;
    --accent: #0C8CE9;
    --radius: 16px;
}
* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html, body {
    width: 100%; min-height: 100vh;
    background: var(--bg); color: var(--text);
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "PingFang SC", "Helvetica Neue", sans-serif;
}
.app {
    max-width: 480px; margin: 0 auto;
    padding: 0 20px; min-height: 100vh;
    display: flex; flex-direction: column;
    justify-content: center;
}
.header {
    text-align: center; padding: 48px 0 36px;
}
.header h1 {
    font-size: 28px; font-weight: 800; letter-spacing: 0.5px;
    line-height: 1.3;
}
.header p {
    font-size: 14px; color: var(--text2); margin-top: 8px;
    line-height: 1.6;
}
.tags {
    display: flex; justify-content: center; flex-wrap: wrap;
    gap: 8px; margin-top: 16px;
}
.tag {
    display: inline-block; padding: 4px 14px;
    border-radius: 20px; font-size: 12px;
    border: 1px solid var(--border); color: var(--text2);
    background: var(--card-bg);
}
.cards { display: flex; flex-direction: column; gap: 16px; padding-bottom: 48px; }
.card {
    display: block; text-decoration: none; color: var(--text);
    background: var(--card-bg); border-radius: var(--radius);
    padding: 28px 24px; border: 1px solid var(--border);
    transition: all 0.2s ease;
}
.card:active { transform: scale(0.98); background: #f0f0f0; }
.card-icon {
    width: 48px; height: 48px; border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    font-size: 24px; margin-bottom: 16px;
}
.card-icon-1 { background: #e8f4fd; }
.card-icon-2 { background: #e8fde8; }
.card h2 { font-size: 18px; font-weight: 700; margin-bottom: 6px; }
.card p { font-size: 13px; color: var(--text2); line-height: 1.6; }
.card .arrow {
    display: flex; align-items: center; gap: 4px;
    margin-top: 16px; font-size: 13px; font-weight: 600;
    color: var(--accent);
}
.footer {
    text-align: center; padding: 24px 0 32px;
    font-size: 12px; color: #ccc;
}

/* Simple SVG animation for hero */
.hero-svg { width: 100%; max-width: 280px; margin: 0 auto 8px; display: block; }
</style>
</head>
<body>
<div class="app">
    <div class="header">
        <svg class="hero-svg" viewBox="0 0 280 160" fill="none" xmlns="http://www.w3.org/2000/svg">
            <line x1="60" y1="120" x2="220" y2="120" stroke="#e0e0e0" stroke-width="1.5" stroke-dasharray="6,4"/>
            <line id="h-crank" x1="60" y1="120" x2="100" y2="70" stroke="#0C8CE9" stroke-width="3" stroke-linecap="round"/>
            <line id="h-coupler" x1="100" y1="70" x2="200" y2="60" stroke="#1a1a1a" stroke-width="3" stroke-linecap="round"/>
            <line id="h-rocker" x1="220" y1="120" x2="200" y2="60" stroke="#1e8e3e" stroke-width="3" stroke-linecap="round"/>
            <circle cx="60" cy="120" r="5" fill="#1a1a1a" stroke="#fff" stroke-width="1.5"/>
            <circle cx="220" cy="120" r="5" fill="#1a1a1a" stroke="#fff" stroke-width="1.5"/>
            <circle id="h-jB" cx="100" cy="70" r="4.5" fill="#fff" stroke="#0C8CE9" stroke-width="2"/>
            <circle id="h-jC" cx="200" cy="60" r="4.5" fill="#fff" stroke="#1e8e3e" stroke-width="2"/>
            <text x="52" y="138" font-size="12" fill="#999" text-anchor="middle" font-family="sans-serif">A</text>
            <text x="228" y="138" font-size="12" fill="#999" text-anchor="middle" font-family="sans-serif">D</text>
        </svg>
        <h1>平面四杆机构<br>交互式教学</h1>
        <p>Planar Four-Bar Linkage Mechanism</p>
        <div class="tags">
            <span class="tag">运动分析</span>
            <span class="tag">Grashof 定理</span>
            <span class="tag">传动角</span>
            <span class="tag">急回特性</span>
        </div>
    </div>

    <div class="cards">
        <a class="card" href="four_bar_linkage.html">
            <div class="card-icon card-icon-1">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#0C8CE9" stroke-width="2" stroke-linecap="round"><circle cx="12" cy="12" r="3"/><path d="M12 2v4m0 12v4M2 12h4m12 0h4"/></svg>
            </div>
            <h2>铰链四杆机构运动分析</h2>
            <p>Canvas 动画演示，支持播放控制、角度滑块、轨迹追踪、力与速度向量显示，附带五个知识要点卡片。</p>
            <div class="arrow">进入演示 →</div>
        </a>

        <a class="card" href="曲柄摇杆机构.html">
            <div class="card-icon card-icon-2">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#1e8e3e" stroke-width="2" stroke-linecap="round"><rect x="3" y="3" width="18" height="18" rx="3"/><path d="M8 12h8M12 8v8"/></svg>
            </div>
            <h2>曲柄摇杆机构 · 交互式教学</h2>
            <p>九张卡片式全流程教学，涵盖机构组成、Grashof 条件、极限位置与急回特性、传动角、死点位置及自由实验台。支持拖拽交互。</p>
            <div class="arrow">开始学习 →</div>
        </a>
    </div>

    <div class="footer">Planar Four-Bar Linkage Mechanism</div>
</div>

<script>
// Simple hero animation
const a = 55, b = 150, c = 100, d = 160;
const Ax = 60, Ay = 120, Dx = 220, Dy = 120;
const scale = 0.62;
let theta = 0;

function solve(th) {
    const Bx = Ax + a * scale * Math.cos(th);
    const By = Ay - a * scale * Math.sin(th);
    const ddx = Dx - Bx, ddy = Dy - By;
    const BD = Math.sqrt(ddx * ddx + ddy * ddy);
    const bS = b * scale, cS = c * scale;
    if (BD > bS + cS || BD < Math.abs(bS - cS)) return null;
    const cosB = (BD * BD + bS * bS - cS * cS) / (2 * BD * bS);
    const angBD = Math.atan2(ddy, ddx);
    const angB = Math.acos(Math.max(-1, Math.min(1, cosB)));
    const Cx = Bx + bS * Math.cos(angBD - angB);
    const Cy = By + bS * Math.sin(angBD - angB);
    return { Bx, By, Cx, Cy };
}

function animate() {
    theta += 0.015;
    if (theta > Math.PI * 2) theta -= Math.PI * 2;
    const p = solve(theta);
    if (p) {
        document.getElementById('h-crank').setAttribute('x2', p.Bx);
        document.getElementById('h-crank').setAttribute('y2', p.By);
        document.getElementById('h-coupler').setAttribute('x1', p.Bx);
        document.getElementById('h-coupler').setAttribute('y1', p.By);
        document.getElementById('h-coupler').setAttribute('x2', p.Cx);
        document.getElementById('h-coupler').setAttribute('y2', p.Cy);
        document.getElementById('h-rocker').setAttribute('x2', p.Cx);
        document.getElementById('h-rocker').setAttribute('y2', p.Cy);
        document.getElementById('h-jB').setAttribute('cx', p.Bx);
        document.getElementById('h-jB').setAttribute('cy', p.By);
        document.getElementById('h-jC').setAttribute('cx', p.Cx);
        document.getElementById('h-jC').setAttribute('cy', p.Cy);
    }
    requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>
